(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{2309:function(e,n,t){Promise.resolve().then(t.bind(t,5995))},5995:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return f}});var a=t(7573),r=t(7653),i=t(1695),s=t(6597),o=t(5118);let l=[{nameHangul:"윤재",hanjaPair:["潤","宰"],readingPair:["윤","재"],meaningKwPair:["윤택할","재상"],score:93,reasons:["발음이 부드럽고 또렷해요","안정과 성장의 의미 조합이에요","성씨와 연결 발음이 자연스러워요"]},{nameHangul:"서현",hanjaPair:["瑞","賢"],readingPair:["서","현"],meaningKwPair:["상서로울","어질"],score:92,reasons:["밝고 신뢰감 있는 인상이에요","길상과 지혜 의미를 담았어요","일상 호칭에서 부르기 쉬워요"]},{nameHangul:"지우",hanjaPair:["智","祐"],readingPair:["지","우"],meaningKwPair:["지혜","도울"],score:91,reasons:["짧고 기억하기 쉬운 구조예요","지혜와 도움의 의미 균형이 좋아요"]},{nameHangul:"도윤",hanjaPair:["度","胤"],readingPair:["도","윤"],meaningKwPair:["법도","이을"],score:90,reasons:["중성적인 발음으로 활용 폭이 넓어요","품격과 계승의 의미를 담았어요","성+이름 리듬이 안정적이에요"]},{nameHangul:"하린",hanjaPair:["河","璘"],readingPair:["하","린"],meaningKwPair:["물","옥빛"],score:89,reasons:["맑고 세련된 발음 인상을 줘요","넓음과 빛남의 상징을 담았어요"]},{nameHangul:"민서",hanjaPair:["敏","瑞"],readingPair:["민","서"],meaningKwPair:["민첩할","상서로울"],score:88,reasons:["발음이 부드럽고 빠르게 익숙해져요","총명함과 길상의 의미가 어울려요"]},{nameHangul:"예준",hanjaPair:["叡","俊"],readingPair:["예","준"],meaningKwPair:["밝을","준걸"],score:87,reasons:["선명한 발음으로 전달력이 좋아요","지혜와 준수함의 의미 조합이에요"]}];function u(e){return(function(e,n,t){let a=new Set,r=e;for(;a.size<Math.min(5,n);)r=(1103515245*r+12345)%2147483647,a.add(r%n);return Array.from(a)})(function(e){var n,t,a,r,i;let s="".concat(e.surnameHangul,"|").concat(e.surnameHanja,"|").concat(null!==(a=null===(n=e.birth)||void 0===n?void 0:n.date)&&void 0!==a?a:"","|").concat(e.gender,"|").concat(null!==(r=null===(t=e.birth)||void 0===t?void 0:t.time)&&void 0!==r?r:"","|").concat(null!==(i=e.exploreSeed)&&void 0!==i?i:""),o=0;for(let e of s)o=(31*o+e.charCodeAt(0))%1000000007;return o}(e),l.length,0).map(e=>l[e])}var c=t(2914);let d=["인명용 한자 검토 중…","발음 조합 분석 중…","의미 균형 계산 중…","성씨 조합 안정성 확인 중…"];function f(){let e=(0,i.useRouter)(),n=(0,c.B)(e=>e.input),t=(0,c.B)(e=>e.setResults),[l,f]=(0,r.useState)(0),m=n.surnameHangul.trim().length>0&&n.surnameHanja.trim().length>0;return(0,r.useEffect)(()=>{if(!m){e.replace("/");return}let a=!1,r=setInterval(()=>{f(e=>(e+1)%d.length)},500);return(async()=>{try{let r=(0,o.o4)(n).catch(e=>(console.error("[loading] API 실패, mock fallback 사용",e),{results:u(n)}));await new Promise(e=>{setTimeout(e,1700)});let i=await r;if(a)return;t(i.results.slice(0,5)),e.replace("/result")}catch(r){if(console.error("[loading] 예기치 않은 오류, mock fallback 사용",r),a)return;t(u(n)),e.replace("/result")}})(),()=>{a=!0,clearInterval(r)}},[m,n,e,t]),(0,a.jsx)(s.WR,{title:"이름을 추천하고 있어요",description:"잠시만 기다려 주세요.",children:(0,a.jsxs)("div",{className:"loading-wrap",children:[(0,a.jsx)("div",{className:"loading-spinner","aria-label":"로딩 중"}),(0,a.jsx)("p",{className:"loading-text",children:d[l]})]})})}},6597:function(e,n,t){"use strict";t.d(n,{NV:function(){return o},Ob:function(){return s},Sv:function(){return l},WR:function(){return r},dE:function(){return i}});var a=t(7573);function r(e){let{title:n,description:t,titleIconSrc:r,titleIconAlt:i,children:s}=e;return(0,a.jsx)("main",{className:"tds-screen",children:(0,a.jsxs)("section",{className:"tds-panel",children:[n?(0,a.jsx)("h1",{className:"tds-title",children:(0,a.jsxs)("span",{className:"tds-title-row",children:[r?(0,a.jsx)("img",{className:"tds-title-icon",src:r,alt:null!=i?i:"","aria-hidden":!i||void 0}):null,(0,a.jsx)("span",{children:n})]})}):null,t?(0,a.jsx)("p",{className:"tds-description",children:t}):null,s]})})}function i(e){let{label:n,value:t,options:r,onChange:i}=e;return(0,a.jsxs)("div",{className:"tds-field",children:[(0,a.jsx)("span",{className:"tds-label",children:n}),(0,a.jsx)("div",{className:"tds-segmented",role:"tablist","aria-label":n,children:r.map(e=>(0,a.jsx)("button",{type:"button",className:"tds-segmented-option".concat(t===e.value?" is-selected":""),role:"tab","aria-selected":t===e.value,onClick:()=>i(e.value),children:e.label},e.value))})]})}function s(e){let{children:n,onClick:t,type:r="button",disabled:i=!1}=e;return(0,a.jsx)("button",{type:r,className:"tds-button tds-button-primary",onClick:t,disabled:i,children:n})}function o(e){let{children:n,onClick:t,type:r="button",disabled:i=!1}=e;return(0,a.jsx)("button",{type:r,className:"tds-button tds-button-secondary",onClick:t,disabled:i,children:n})}function l(e){let{children:n}=e;return(0,a.jsx)("article",{className:"tds-card",children:n})}},5118:function(e,n,t){"use strict";function a(e){let n=e.startsWith("/")?e:"/".concat(e),t=function(){let e="https://api.namefit.example".trim();return e.endsWith("/")?e.slice(0,-1):e}();return t?"".concat(t).concat(n):n}async function r(e,n){let t=e.trim();if(!t)return{surnameReading:"",options:[],autoSelectedHanja:null};let r=await fetch("".concat(a("/api/surname/options"),"?reading=").concat(encodeURIComponent(t)),{method:"GET",cache:"no-store",signal:n});if(!r.ok){let e=await r.text();throw Error("[api] surname options failed: ".concat(r.status," ").concat(e))}let i=await r.json();if(!(i&&"object"==typeof i&&"string"==typeof i.surnameReading&&Array.isArray(i.options)&&("string"==typeof i.autoSelectedHanja||null===i.autoSelectedHanja)&&i.options.every(e=>!!e&&"object"==typeof e&&"string"==typeof e.hanja&&"boolean"==typeof e.isDefault&&"number"==typeof e.popularityRank&&Number.isFinite(e.popularityRank))))throw Error("[api] invalid surname options response");return i}async function i(e){let n=await fetch(a("/api/recommend/free"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(e)});if(!n.ok){let e=await n.text();throw Error("[api] free recommend failed: ".concat(n.status," ").concat(e))}let t=await n.json();if(!function(e){if(!e||"object"!=typeof e)return!1;let n=e.results;return!!Array.isArray(n)&&n.every(e=>!!e&&"object"==typeof e&&"string"==typeof e.nameHangul&&Array.isArray(e.hanjaPair)&&2===e.hanjaPair.length&&"string"==typeof e.hanjaPair[0]&&"string"==typeof e.hanjaPair[1]&&Array.isArray(e.readingPair)&&2===e.readingPair.length&&"string"==typeof e.readingPair[0]&&"string"==typeof e.readingPair[1]&&Array.isArray(e.meaningKwPair)&&2===e.meaningKwPair.length&&"string"==typeof e.meaningKwPair[0]&&"string"==typeof e.meaningKwPair[1]&&"number"==typeof e.score&&Number.isFinite(e.score)&&Array.isArray(e.reasons))}(t))throw Error("[api] invalid response shape");return{results:t.results.slice(0,5)}}async function s(e){let n=await fetch(a("/api/feedback/name"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(e)});if(!n.ok){let e=await n.text();if(503===n.status&&e.includes("Feedback backend is not configured"))return;throw Error("[api] feedback submit failed: ".concat(n.status," ").concat(e))}}t.d(n,{le:function(){return s},mS:function(){return r},o4:function(){return i}})},2914:function(e,n,t){"use strict";let a;t.d(n,{P:function(){return c},B:function(){return d}});var r=t(7653);let i=e=>{let n;let t=new Set,a=(e,a)=>{let r="function"==typeof e?e(n):e;if(!Object.is(r,n)){let e=n;n=(null!=a?a:"object"!=typeof r||null===r)?r:Object.assign({},n,r),t.forEach(t=>t(n,e))}},r=()=>n,i={setState:a,getState:r,getInitialState:()=>s,subscribe:e=>(t.add(e),()=>t.delete(e))},s=n=e(a,r,i);return i},s=e=>e?i(e):i,o=e=>e,l=e=>{let n=s(e),t=e=>(function(e,n=o){let t=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>n(e.getState()),[e,n]),r.useCallback(()=>n(e.getInitialState()),[e,n]));return r.useDebugValue(t),t})(n,e);return Object.assign(t,n),t},u={surnameHangul:"",surnameHanja:"",gender:"UNISEX"},c=[{label:"남",value:"MALE"},{label:"여",value:"FEMALE"},{label:"상관없음",value:"UNISEX"}],d=(a=e=>({input:u,results:[],setInput:n=>e({input:n}),setResults:n=>e({results:n.slice(0,5).map((e,n)=>{var t;return{...e,score:"number"==typeof(t=e.score)&&Number.isFinite(t)?Math.round(Math.max(0,Math.min(100,t))):Math.max(60,95-3*n),reasons:Array.isArray(e.reasons)&&e.reasons.length>0?e.reasons:["추천 기준을 충족한 이름이에요"]}})}),reset:()=>e({input:u,results:[]})}))?l(a):l},1695:function(e,n,t){"use strict";var a=t(1219);t.o(a,"useParams")&&t.d(n,{useParams:function(){return a.useParams}}),t.o(a,"usePathname")&&t.d(n,{usePathname:function(){return a.usePathname}}),t.o(a,"useRouter")&&t.d(n,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(n,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[293,528,744],function(){return e(e.s=2309)}),_N_E=e.O()}]);