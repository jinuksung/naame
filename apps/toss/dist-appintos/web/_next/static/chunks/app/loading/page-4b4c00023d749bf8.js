(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{2309:function(e,t,n){Promise.resolve().then(n.bind(n,5995))},5995:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(7573),a=n(7653),i=n(1695),s=n(6597),o=n(5118);let l=[{nameHangul:"윤재",hanjaPair:["潤","宰"],readingPair:["윤","재"],meaningKwPair:["윤택할","재상"],score:93,reasons:["발음이 부드럽고 또렷해요","안정과 성장의 의미 조합이에요","성씨와 연결 발음이 자연스러워요"]},{nameHangul:"서현",hanjaPair:["瑞","賢"],readingPair:["서","현"],meaningKwPair:["상서로울","어질"],score:92,reasons:["밝고 신뢰감 있는 인상이에요","길상과 지혜 의미를 담았어요","일상 호칭에서 부르기 쉬워요"]},{nameHangul:"지우",hanjaPair:["智","祐"],readingPair:["지","우"],meaningKwPair:["지혜","도울"],score:91,reasons:["짧고 기억하기 쉬운 구조예요","지혜와 도움의 의미 균형이 좋아요"]},{nameHangul:"도윤",hanjaPair:["度","胤"],readingPair:["도","윤"],meaningKwPair:["법도","이을"],score:90,reasons:["중성적인 발음으로 활용 폭이 넓어요","품격과 계승의 의미를 담았어요","성+이름 리듬이 안정적이에요"]},{nameHangul:"하린",hanjaPair:["河","璘"],readingPair:["하","린"],meaningKwPair:["물","옥빛"],score:89,reasons:["맑고 세련된 발음 인상을 줘요","넓음과 빛남의 상징을 담았어요"]},{nameHangul:"민서",hanjaPair:["敏","瑞"],readingPair:["민","서"],meaningKwPair:["민첩할","상서로울"],score:88,reasons:["발음이 부드럽고 빠르게 익숙해져요","총명함과 길상의 의미가 어울려요"]},{nameHangul:"예준",hanjaPair:["叡","俊"],readingPair:["예","준"],meaningKwPair:["밝을","준걸"],score:87,reasons:["선명한 발음으로 전달력이 좋아요","지혜와 준수함의 의미 조합이에요"]}];function u(e){return(function(e,t,n){let r=new Set,a=e;for(;r.size<Math.min(5,t);)a=(1103515245*a+12345)%2147483647,r.add(a%t);return Array.from(r)})(function(e){var t,n,r,a,i;let s="".concat(e.surnameHangul,"|").concat(e.surnameHanja,"|").concat(null!==(r=null===(t=e.birth)||void 0===t?void 0:t.date)&&void 0!==r?r:"","|").concat(e.gender,"|").concat(null!==(a=null===(n=e.birth)||void 0===n?void 0:n.time)&&void 0!==a?a:"","|").concat(null!==(i=e.exploreSeed)&&void 0!==i?i:""),o=0;for(let e of s)o=(31*o+e.charCodeAt(0))%1000000007;return o}(e),l.length,0).map(e=>l[e])}var c=n(5651);let d=["인명용 한자 검토 중…","발음 조합 분석 중…","의미 균형 계산 중…","성씨 조합 안정성 확인 중…"];function m(){let e=(0,i.useRouter)(),t=(0,c.B)(e=>e.input),n=(0,c.B)(e=>e.hasHydrated),l=(0,c.B)(e=>e.setResults),[m,f]=(0,a.useState)(0),h=t.surnameHangul.trim().length>0&&t.surnameHanja.trim().length>0;return(0,a.useEffect)(()=>{if(!n)return;if(!h){e.replace("/feature/recommend");return}let r=!1,a=setInterval(()=>{f(e=>(e+1)%d.length)},500);return(async()=>{try{let n=(0,o.o4)(t).catch(e=>(console.error("[loading] API 실패, mock fallback 사용",e),{results:u(t)}));await new Promise(e=>{setTimeout(e,1700)});let a=await n;if(r)return;l(a.results.slice(0,5)),e.replace("/result")}catch(n){if(console.error("[loading] 예기치 않은 오류, mock fallback 사용",n),r)return;l(u(t)),e.replace("/result")}})(),()=>{r=!0,clearInterval(a)}},[n,h,t,e,l]),(0,r.jsx)(s.WR,{title:"이름을 추천하고 있어요",description:"잠시만 기다려 주세요.",children:(0,r.jsxs)("div",{className:"loading-wrap",children:[(0,r.jsx)("div",{className:"loading-spinner","aria-label":"로딩 중"}),(0,r.jsx)("p",{className:"loading-text",children:d[m]})]})})}},6597:function(e,t,n){"use strict";n.d(t,{NV:function(){return o},Ob:function(){return s},Sv:function(){return l},WR:function(){return a},dE:function(){return i}});var r=n(7573);function a(e){let{title:t,description:n,titleIconSrc:a,titleIconAlt:i,children:s}=e;return(0,r.jsx)("main",{className:"tds-screen",children:(0,r.jsxs)("section",{className:"tds-panel",children:[t?(0,r.jsx)("h1",{className:"tds-title",children:(0,r.jsxs)("span",{className:"tds-title-row",children:[a?(0,r.jsx)("img",{className:"tds-title-icon",src:a,alt:null!=i?i:"","aria-hidden":!i||void 0}):null,(0,r.jsx)("span",{children:t})]})}):null,n?(0,r.jsx)("p",{className:"tds-description",children:n}):null,s]})})}function i(e){let{label:t,value:n,options:a,onChange:i}=e;return(0,r.jsxs)("div",{className:"tds-field",children:[(0,r.jsx)("span",{className:"tds-label",children:t}),(0,r.jsx)("div",{className:"tds-segmented",role:"tablist","aria-label":t,children:a.map(e=>(0,r.jsx)("button",{type:"button",className:"tds-segmented-option".concat(n===e.value?" is-selected":""),role:"tab","aria-selected":n===e.value,onClick:()=>i(e.value),children:e.label},e.value))})]})}function s(e){let{children:t,onClick:n,type:a="button",disabled:i=!1}=e;return(0,r.jsx)("button",{type:a,className:"tds-button tds-button-primary",onClick:n,disabled:i,children:t})}function o(e){let{children:t,onClick:n,type:a="button",disabled:i=!1}=e;return(0,r.jsx)("button",{type:a,className:"tds-button tds-button-secondary",onClick:n,disabled:i,children:t})}function l(e){let{children:t}=e;return(0,r.jsx)("article",{className:"tds-card",children:t})}},5118:function(e,t,n){"use strict";function r(e){let t=e.startsWith("/")?e:"/".concat(e),n=function(){let e="https://naametoss.vercel.app".trim();return e.endsWith("/")?e.slice(0,-1):e}();return n?"".concat(n).concat(t):t}async function a(e,t){let n=e.trim();if(!n)return{surnameReading:"",options:[],autoSelectedHanja:null};let a=await fetch("".concat(r("/api/surname/options"),"?reading=").concat(encodeURIComponent(n)),{method:"GET",cache:"no-store",signal:t});if(!a.ok){let e=await a.text();throw Error("[api] surname options failed: ".concat(a.status," ").concat(e))}let i=await a.json();if(!(i&&"object"==typeof i&&"string"==typeof i.surnameReading&&Array.isArray(i.options)&&("string"==typeof i.autoSelectedHanja||null===i.autoSelectedHanja)&&i.options.every(e=>!!e&&"object"==typeof e&&"string"==typeof e.hanja&&"boolean"==typeof e.isDefault&&"number"==typeof e.popularityRank&&Number.isFinite(e.popularityRank))))throw Error("[api] invalid surname options response");return i}async function i(e){let t=await fetch(r("/api/recommend/free"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(e)});if(!t.ok){let e=await t.text();throw Error("[api] free recommend failed: ".concat(t.status," ").concat(e))}let n=await t.json();if(!function(e){if(!e||"object"!=typeof e)return!1;let t=e.results;return!!Array.isArray(t)&&t.every(e=>!!e&&"object"==typeof e&&"string"==typeof e.nameHangul&&Array.isArray(e.hanjaPair)&&2===e.hanjaPair.length&&"string"==typeof e.hanjaPair[0]&&"string"==typeof e.hanjaPair[1]&&Array.isArray(e.readingPair)&&2===e.readingPair.length&&"string"==typeof e.readingPair[0]&&"string"==typeof e.readingPair[1]&&Array.isArray(e.meaningKwPair)&&2===e.meaningKwPair.length&&"string"==typeof e.meaningKwPair[0]&&"string"==typeof e.meaningKwPair[1]&&"number"==typeof e.score&&Number.isFinite(e.score)&&Array.isArray(e.reasons))}(n))throw Error("[api] invalid response shape");return{results:n.results.slice(0,5)}}async function s(e){let t=await fetch(r("/api/feedback/name"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(e)});if(!t.ok){let e=await t.text();if(503===t.status&&e.includes("Feedback backend is not configured"))return;throw Error("[api] feedback submit failed: ".concat(t.status," ").concat(e))}}async function o(e){let t=Array.from(e.trim().normalize("NFC")).slice(0,1).join("");if(!t)throw Error("[api] invalid hanja char");let n=await fetch("/api/admin/local/hanja/not-inmyong",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify({char:t})});if(!n.ok){let e=await n.text();throw Error("[api] mark not-inmyong failed: ".concat(n.status," ").concat(e))}}async function l(e){let t=e.trim().normalize("NFC");if(!t)throw Error("[api] invalid nameHangul");let n=await fetch("/api/admin/local/blacklist-word",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify({nameHangul:t})});if(!n.ok){let e=await n.text();throw Error("[api] blacklist update failed: ".concat(n.status," ").concat(e))}return{inserted:!0===(await n.json()).inserted}}n.d(t,{le:function(){return s},mS:function(){return a},o4:function(){return i},yF:function(){return o},zT:function(){return l}})},5651:function(e,t,n){"use strict";n.d(t,{B:function(){return l},P:function(){return s}});var r=n(8321),a=n(4452);let i={surnameHangul:"",surnameHanja:"",gender:"UNISEX"},s=[{label:"남",value:"MALE"},{label:"여",value:"FEMALE"},{label:"상관없음",value:"UNISEX"}],o=(0,a.FL)(()=>window.sessionStorage),l=(0,r.U)()((0,a.tJ)(e=>({input:i,results:[],hasHydrated:!1,setHasHydrated:t=>e({hasHydrated:t}),setInput:t=>e({input:t}),setResults:t=>e({results:t.slice(0,5).map((e,t)=>{var n;return{...e,score:"number"==typeof(n=e.score)&&Number.isFinite(n)?Math.round(Math.max(0,Math.min(100,n))):Math.max(60,95-3*t),reasons:Array.isArray(e.reasons)&&e.reasons.length>0?e.reasons:["추천 기준을 충족한 이름이에요"]}})}),reset:()=>e({input:i,results:[]})}),{name:"namefit-toss-recommend-store-v1",storage:o,partialize:e=>({input:e.input,results:e.results}),onRehydrateStorage:()=>(e,t)=>{t&&console.error("[store] recommend store rehydrate failed",t),null==e||e.setHasHydrated(!0)}}))},1695:function(e,t,n){"use strict";var r=n(1219);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})},4452:function(e,t,n){"use strict";function r(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var r;let a=e=>null===e?null:JSON.parse(e,null==t?void 0:t.reviver),i=null!=(r=n.getItem(e))?r:null;return i instanceof Promise?i.then(a):a(i)},setItem:(e,r)=>n.setItem(e,JSON.stringify(r,null==t?void 0:t.replacer)),removeItem:e=>n.removeItem(e)}}n.d(t,{FL:function(){return r},tJ:function(){return i}});let a=e=>t=>{try{let n=e(t);if(n instanceof Promise)return n;return{then:e=>a(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>a(t)(e)}}},i=(e,t)=>(n,i,s)=>{let o,l={storage:r(()=>window.localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},u=!1,c=0,d=new Set,m=new Set,f=l.storage;if(!f)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...e)},i,s);let h=()=>{let e=l.partialize({...i()});return f.setItem(l.name,{state:e,version:l.version})},p=s.setState;s.setState=(e,t)=>(p(e,t),h());let g=e((...e)=>(n(...e),h()),i,s);s.getInitialState=()=>g;let y=()=>{var e,t;if(!f)return;let r=++c;u=!1,d.forEach(e=>{var t;return e(null!=(t=i())?t:g)});let s=(null==(t=l.onRehydrateStorage)?void 0:t.call(l,null!=(e=i())?e:g))||void 0;return a(f.getItem.bind(f))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate){let t=l.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;if(r!==c)return;let[a,s]=e;if(n(o=l.merge(s,null!=(t=i())?t:g),!0),a)return h()}).then(()=>{r===c&&(null==s||s(o,void 0),o=i(),u=!0,m.forEach(e=>e(o)))}).catch(e=>{r===c&&(null==s||s(void 0,e))})};return s.persist={setOptions:e=>{l={...l,...e},e.storage&&(f=e.storage)},clearStorage:()=>{null==f||f.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>y(),hasHydrated:()=>u,onHydrate:e=>(d.add(e),()=>{d.delete(e)}),onFinishHydration:e=>(m.add(e),()=>{m.delete(e)})},l.skipHydration||y(),o||g}},8321:function(e,t,n){"use strict";n.d(t,{U:function(){return l}});var r=n(7653);let a=e=>{let t;let n=new Set,r=(e,r)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},t,a),n.forEach(n=>n(t,e))}},a=()=>t,i={setState:r,getState:a,getInitialState:()=>s,subscribe:e=>(n.add(e),()=>n.delete(e))},s=t=e(r,a,i);return i},i=e=>e?a(e):a,s=e=>e,o=e=>{let t=i(e),n=e=>(function(e,t=s){let n=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>t(e.getState()),[e,t]),r.useCallback(()=>t(e.getInitialState()),[e,t]));return r.useDebugValue(n),n})(t,e);return Object.assign(n,t),n},l=e=>e?o(e):o}},function(e){e.O(0,[293,528,744],function(){return e(e.s=2309)}),_N_E=e.O()}]);