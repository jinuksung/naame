"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[304],{6597:function(t,e,n){n.d(e,{M4:function(){return o},NV:function(){return l},Ob:function(){return c},Sv:function(){return f},TdsBottomCtaDouble:function(){return d},TdsLinkButton:function(){return u},TdsScreen:function(){return i},dE:function(){return s}});var r=n(7573),a=n(8146);function i(t){let{title:e,description:n,titleIconSrc:a,titleIconAlt:i,children:s}=t;return(0,r.jsx)("main",{className:"tds-screen",children:(0,r.jsxs)("section",{className:"tds-panel",children:[e?(0,r.jsx)("h1",{className:"tds-title",children:(0,r.jsxs)("span",{className:"tds-title-row",children:[a?(0,r.jsx)("img",{className:"tds-title-icon",src:a,alt:null!=i?i:"","aria-hidden":!i||void 0}):null,(0,r.jsx)("span",{children:e})]})}):null,n?(0,r.jsx)("p",{className:"tds-description",children:n}):null,s]})})}function s(t){let{label:e,value:n,options:a,onChange:i}=t;return(0,r.jsxs)("div",{className:"tds-field",children:[(0,r.jsx)("span",{className:"tds-label",children:e}),(0,r.jsx)("div",{className:"tds-segmented",role:"tablist","aria-label":e,children:a.map(t=>(0,r.jsx)("button",{type:"button",className:"tds-segmented-option".concat(n===t.value?" is-selected":""),role:"tab","aria-selected":n===t.value,onClick:()=>i(t.value),children:t.label},t.value))})]})}function o(t){let{checked:e,label:n,onChange:a}=t;return(0,r.jsxs)("label",{className:"tds-switch-row",children:[(0,r.jsx)("span",{className:"tds-label",children:n}),(0,r.jsx)("button",{type:"button",role:"switch","aria-checked":e,className:"tds-switch".concat(e?" is-on":""),onClick:()=>a(!e),children:(0,r.jsx)("span",{className:"tds-switch-thumb"})})]})}function c(t){let{children:e,onClick:n,type:a="button",disabled:i=!1}=t;return(0,r.jsx)("button",{type:a,className:"tds-button tds-button-primary",onClick:n,disabled:i,children:(0,r.jsx)("span",{className:"tds-button-label",children:e})})}function l(t){let{children:e,onClick:n,type:a="button",disabled:i=!1}=t;return(0,r.jsx)("button",{type:a,className:"tds-button tds-button-secondary",onClick:n,disabled:i,children:(0,r.jsx)("span",{className:"tds-button-label",children:e})})}function u(t){let{children:e,href:n,variant:i="primary"}=t;return(0,r.jsx)(a.default,{href:n,className:"tds-button ".concat("secondary"===i?"tds-button-secondary":"tds-button-primary"),children:(0,r.jsx)("span",{className:"tds-button-label",children:e})})}function d(t){let{left:e,right:n,topAccessory:a}=t;return(0,r.jsxs)("div",{className:"tds-bottom-cta tds-bottom-cta-double",children:[a?(0,r.jsx)("div",{className:"tds-bottom-cta-top",children:a}):null,(0,r.jsxs)("div",{className:"tds-bottom-cta-actions",children:[(0,r.jsx)("div",{children:e}),(0,r.jsx)("div",{children:n})]})]})}function f(t){let{children:e}=t;return(0,r.jsx)("article",{className:"tds-card",children:e})}},5118:function(t,e,n){function r(t){let e=t.startsWith("/")?t:"/".concat(t),n=function(){let t="https://naametoss.vercel.app".trim();return t.endsWith("/")?t.slice(0,-1):t}();return n?"".concat(n).concat(e):e}async function a(t,e){let n=t.trim();if(!n)return{surnameReading:"",options:[],autoSelectedHanja:null};let a=await fetch("".concat(r("/api/surname/options"),"?reading=").concat(encodeURIComponent(n)),{method:"GET",cache:"no-store",signal:e});if(!a.ok){let t=await a.text();throw Error("[api] surname options failed: ".concat(a.status," ").concat(t))}let i=await a.json();if(!(i&&"object"==typeof i&&"string"==typeof i.surnameReading&&Array.isArray(i.options)&&("string"==typeof i.autoSelectedHanja||null===i.autoSelectedHanja)&&i.options.every(t=>!!t&&"object"==typeof t&&"string"==typeof t.hanja&&"boolean"==typeof t.isDefault&&"number"==typeof t.popularityRank&&Number.isFinite(t.popularityRank))))throw Error("[api] invalid surname options response");return i}async function i(t){let e=await fetch(r("/api/recommend/free"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(t)});if(!e.ok){let t=await e.text();throw Error("[api] free recommend failed: ".concat(e.status," ").concat(t))}let n=await e.json();if(!function(t){if(!t||"object"!=typeof t)return!1;let e=t.results;return!!Array.isArray(e)&&e.every(t=>!!t&&"object"==typeof t&&"string"==typeof t.nameHangul&&Array.isArray(t.hanjaPair)&&2===t.hanjaPair.length&&"string"==typeof t.hanjaPair[0]&&"string"==typeof t.hanjaPair[1]&&Array.isArray(t.readingPair)&&2===t.readingPair.length&&"string"==typeof t.readingPair[0]&&"string"==typeof t.readingPair[1]&&Array.isArray(t.meaningKwPair)&&2===t.meaningKwPair.length&&"string"==typeof t.meaningKwPair[0]&&"string"==typeof t.meaningKwPair[1]&&"number"==typeof t.score&&Number.isFinite(t.score)&&Array.isArray(t.reasons))}(n))throw Error("[api] invalid response shape");return{results:n.results.slice(0,5)}}async function s(t){let e=await fetch(r("/api/recommend/premium"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(t)});if(!e.ok){let t=await e.text();throw Error("[api] premium recommend failed: ".concat(e.status," ").concat(t))}let n=await e.json();if(!function(t){if(!t||"object"!=typeof t||!t.summary||"object"!=typeof t.summary||!Array.isArray(t.results))return!1;let e=t.summary;return!!(("IMPROVE"===e.mode||"HARMONY"===e.mode)&&"string"==typeof e.oneLineSummary&&Array.isArray(e.weakTop2)&&2===e.weakTop2.length&&"boolean"==typeof e.hasHourPillar&&e.pillars&&"object"==typeof e.pillars&&e.distSaju&&"object"==typeof e.distSaju&&Array.isArray(e.distStatus))&&t.results.every(t=>!!t&&"object"==typeof t&&"number"==typeof t.rank&&Number.isFinite(t.rank)&&"string"==typeof t.nameHangul&&Array.isArray(t.hanjaPair)&&2===t.hanjaPair.length&&"string"==typeof t.hanjaPair[0]&&"string"==typeof t.hanjaPair[1]&&Array.isArray(t.readingPair)&&2===t.readingPair.length&&"string"==typeof t.readingPair[0]&&"string"==typeof t.readingPair[1]&&Array.isArray(t.meaningKwPair)&&2===t.meaningKwPair.length&&"string"==typeof t.meaningKwPair[0]&&"string"==typeof t.meaningKwPair[1]&&"number"==typeof t.score&&Number.isFinite(t.score)&&"number"==typeof t.sajuScore5&&Number.isFinite(t.sajuScore5)&&"number"==typeof t.soundScore5&&Number.isFinite(t.soundScore5)&&"number"==typeof t.engineScore01&&Number.isFinite(t.engineScore01)&&Array.isArray(t.why))}(n))throw Error("[api] invalid premium response shape");return{summary:n.summary,results:n.results.slice(0,20)}}async function o(t){let e=await fetch(r("/api/feedback/name"),{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify(t)});if(!e.ok){let t=await e.text();if(503===e.status&&t.includes("Feedback backend is not configured"))return;throw Error("[api] feedback submit failed: ".concat(e.status," ").concat(t))}}async function c(t){let e=Array.from(t.trim().normalize("NFC")).slice(0,1).join("");if(!e)throw Error("[api] invalid hanja char");let n=await fetch("/api/admin/local/hanja/not-inmyong",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify({char:e})});if(!n.ok){let t=await n.text();throw Error("[api] mark not-inmyong failed: ".concat(n.status," ").concat(t))}}async function l(t){let e=t.trim().normalize("NFC");if(!e)throw Error("[api] invalid nameHangul");let n=await fetch("/api/admin/local/blacklist-word",{method:"POST",headers:{"Content-Type":"application/json"},cache:"no-store",body:JSON.stringify({nameHangul:e})});if(!n.ok){let t=await n.text();throw Error("[api] blacklist update failed: ".concat(n.status," ").concat(t))}return{inserted:!0===(await n.json()).inserted}}n.d(e,{le:function(){return o},mS:function(){return a},o4:function(){return i},oj:function(){return s},yF:function(){return c},zT:function(){return l}})},7577:function(t,e,n){n.d(e,{Q:function(){return p}});let r=["ㄱ","ㄲ","ㄴ","ㄷ","ㄸ","ㄹ","ㅁ","ㅂ","ㅃ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],a=["ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ"],i=["","ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ"],s=new Map(r.map((t,e)=>[t,e])),o=new Map(a.map((t,e)=>[t,e])),c=new Map(i.map((t,e)=>[t,e])),l=new Map([["ㅗㅏ","ㅘ"],["ㅗㅐ","ㅙ"],["ㅗㅣ","ㅚ"],["ㅜㅓ","ㅝ"],["ㅜㅔ","ㅞ"],["ㅜㅣ","ㅟ"],["ㅡㅣ","ㅢ"]]),u=new Map([["ㄱㅅ","ㄳ"],["ㄴㅈ","ㄵ"],["ㄴㅎ","ㄶ"],["ㄹㄱ","ㄺ"],["ㄹㅁ","ㄻ"],["ㄹㅂ","ㄼ"],["ㄹㅅ","ㄽ"],["ㄹㅌ","ㄾ"],["ㄹㅍ","ㄿ"],["ㄹㅎ","ㅀ"],["ㅂㅅ","ㅄ"]]);function d(t){return o.has(t)}function f(t){let e=c.get(t);return"number"==typeof e&&e>0}function p(t,e){let n=function(t){let e=t.trim();return e?(function(t){let e=[],n=0;for(;n<t.length;){let r=t[n],a=t[n+1];if(!s.has(r)||!d(a)){e.push(r),n+=1;continue}let i=a,p=n+2;if(d(t[p])){let e=l.get("".concat(i).concat(t[p]));e&&(i=e,p+=1)}let m="",y=t[p],h=t[p+1],b=t[p+2];if(f(y)){if(f(h)){let t=u.get("".concat(y).concat(h));t&&!d(b)?(m=t,p+=2):d(h)||(m=y,p+=1)}else d(h)||(m=y,p+=1)}let g=function(t,e,n){let r=s.get(t),a=o.get(e),i=c.get(n);return"number"!=typeof r||"number"!=typeof a||"number"!=typeof i?null:String.fromCodePoint(44032+(21*r+a)*28+i)}(r,i,m);g?e.push(g):(e.push(r,i),m&&e.push(m)),n=p}return e.join("")})(function(t){let e=[];for(let n of Array.from(t)){let t=n.codePointAt(0);if("number"==typeof t){if(t>=44032&&t<=55203){let n=t-44032,s=Math.floor(n/588),o=Math.floor(n%588/28),c=n%28;e.push(r[s]),e.push(a[o]),c>0&&e.push(i[c]);continue}if(t>=4352&&t<=4370){e.push(r[t-4352]);continue}if(t>=4449&&t<=4469){e.push(a[t-4449]);continue}if(t>=4520&&t<=4546){e.push(i[t-4520+1]);continue}e.push(n)}}return e}(e.normalize("NFC"))).normalize("NFC"):""}(t);return!Number.isFinite(e)||e<1?n:Array.from(n).slice(0,Math.floor(e)).join("")}},5651:function(t,e,n){n.d(e,{B:function(){return c},P:function(){return s}});var r=n(8321),a=n(4452);let i={surnameHangul:"",surnameHanja:"",gender:"UNISEX"},s=[{label:"남",value:"MALE"},{label:"여",value:"FEMALE"},{label:"상관없음",value:"UNISEX"}],o=(0,a.FL)(()=>window.sessionStorage),c=(0,r.U)()((0,a.tJ)(t=>({input:i,results:[],hasHydrated:!1,setHasHydrated:e=>t({hasHydrated:e}),setInput:e=>t({input:e}),setResults:e=>t({results:e.slice(0,5).map((t,e)=>{var n;return{...t,score:"number"==typeof(n=t.score)&&Number.isFinite(n)?Math.round(Math.max(0,Math.min(100,n))):Math.max(60,95-3*e),reasons:Array.isArray(t.reasons)&&t.reasons.length>0?t.reasons:["추천 기준을 충족한 이름이에요"]}})}),reset:()=>t({input:i,results:[]})}),{name:"namefit-toss-recommend-store-v1",storage:o,partialize:t=>({input:t.input,results:t.results}),onRehydrateStorage:()=>(t,e)=>{e&&console.error("[store] recommend store rehydrate failed",e),null==t||t.setHasHydrated(!0)}}))}}]);